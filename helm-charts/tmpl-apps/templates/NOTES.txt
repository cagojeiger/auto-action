Thank you for installing {{ .Chart.Name }}!

Your release is named: {{ .Release.Name }}
Chart version: {{ .Chart.Version }}
App version: {{ .Chart.AppVersion }}

=== Deployed Applications ===
{{- range $appName, $appConfig := .Values.apps }}
{{- $mergedConfig := include "tmpl-apps.mergeConfig" (dict "root" $ "app" $appConfig) | fromYaml }}
{{- $app := mergeOverwrite $appConfig $mergedConfig }}

ðŸ“¦ {{ $appName }}:
   - Image: {{ include "tmpl-apps.image" (dict "root" $ "app" $app) }}
   - Replicas: {{ $app.replicas | default 1 }}
   {{- if $app.service.enabled }}
   - Service: {{ include "tmpl-apps.appFullname" (dict "root" $ "app" (set $app "name" $appName)) }}.{{ $.Release.Namespace }}.svc.cluster.local:{{ $app.service.port | default 80 }}
   {{- end }}
   {{- if and $app.ingress $app.ingress.enabled }}
   - URL: https://{{ $app.ingress.host }}
   {{- end }}
{{- end }}

=== Getting Started ===

1. Check deployment status:
   kubectl get deployments -n {{ .Release.Namespace }}

2. Check pods:
   kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/instance={{ .Release.Name }}

3. View logs:
   {{- range $appName, $appConfig := .Values.apps }}
   kubectl logs -n {{ $.Release.Namespace }} -l app.kubernetes.io/name={{ $appName }} -f
   {{- end }}

{{- if .Values.apps }}
{{- range $appName, $appConfig := .Values.apps }}
{{- $mergedConfig := include "tmpl-apps.mergeConfig" (dict "root" $ "app" $appConfig) | fromYaml }}
{{- $app := mergeOverwrite $appConfig $mergedConfig }}
{{- if and $app.service.enabled (eq $app.service.type "LoadBalancer") }}

=== LoadBalancer Services ===

Service {{ $appName }} is exposed as LoadBalancer.
It may take a few minutes for the LoadBalancer IP to be available.

Watch the status:
kubectl get svc --namespace {{ $.Release.Namespace }} -w {{ include "tmpl-apps.appFullname" (dict "root" $ "app" (set $app "name" $appName)) }}
{{- end }}
{{- end }}
{{- end }}

For more information, visit: https://github.com/cagojeiger/auto-action